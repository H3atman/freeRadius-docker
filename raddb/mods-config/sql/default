sql {
    dialect = "mysql"
    driver = "rlm_sql_${dialect}"

    # Database connection
    # Note: FreeRADIUS doesn't expand env vars at config parse time
    # These must match your docker-compose environment
    server = "mysql"
    port = 3306
    login = "radius"
    password = "mysqlpass"
    radius_db = "radius"

    # Table names for queries.conf
    acct_table1 = "radacct"
    acct_table2 = "radacct"
    postauth_table = "radpostauth"
    authcheck_table = "radcheck"
    groupcheck_table = "radgroupcheck"
    authreply_table = "radreply"
    groupreply_table = "radgroupreply"
    usergroup_table = "radusergroup"

    # Group membership attribute used in SQL queries
    group_attribute = "SQL-Group"

    # Read NAS clients from database
    read_clients = yes
    client_table = "nas"

    # Delete stale sessions
    delete_stale_sessions = yes

    # Connection pool settings
    pool {
        start = 5
        min = 4
        max = 32
        spare = 3
        uses = 0
        lifetime = 0
        idle_timeout = 60
    }

    # Include the default queries for MySQL
    $INCLUDE ${modconfdir}/${.:name}/main/${dialect}/queries.conf
}
